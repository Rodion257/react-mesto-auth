{"version":3,"sources":["images/Union.png","images/Union_decline.png","images/logo.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Header.js","utils/auth.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/LoginPopup.js","components/Footer.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","classnames","isLiked","likes","some","i","cardLikeButtonClassName","className","onClick","onImageOpen","onCardClick","src","link","alt","name","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","slice","reverse","map","key","onImagePopup","PopupWithImage","popupOpenedClassName","isOpen","onClose","PopupWithForm","onSubmit","noValidate","title","children","isLoading","disabled","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","autoComplete","id","minLength","maxLength","required","api","baseUrl","handleResponse","res","ok","json","Promise","reject","status","this","url","jwt","localStorage","getItem","fetch","headers","then","data","method","body","JSON","stringify","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","setLink","Header","headerLogo","loggedIn","userData","email","undefined","signOut","href","BASE_URL","Register","setEmail","password","setPassword","emailLength","setEmailLength","passLength","setPassLength","history","useHistory","registerButtonClassName","disabledButton","evt","response","catch","err","console","log","auth","onRegister","push","handleMessage","error","message","onUnregister","Login","loginButtonClassName","setItem","token","onLogin","notLogin","InfoTooltip","loginImage","declineImage","LoginPopup","Footer","ProtectedRoute","Component","component","to","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","isLoginTooltipPopupOpen","setIsLoginTooltipPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","setLoggedIn","registered","setRegistered","setMessage","closeAllPopups","handleESCclose","document","addEventListener","removeEventListener","handleToken","getInfoUser","getInitialCards","result","removeItem","Provider","exact","path","changeLikeCardStatus","newCard","newCards","c","removeCard","arrWithoutCard","filter","user","sendInfoUser","createCard","changeAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1d0aed85.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport classnames from 'classnames';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n\n  const cardDeleteButtonClassName = classnames('cards__delete-button', { 'cards__delete-button_active': isOwn });\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = classnames('cards__like-button', { 'cards__like-button_active': isLiked });\n\n  function handleClick() {\n    props.onImageOpen();\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <figure className=\"cards__item\">\n      <img\n        onClick={handleClick}\n        src={props.card.link}\n        alt={`${props.card.name}`}\n        className=\"cards__image\" />\n      <button type='button' onClick={handleDeleteClick} className={cardDeleteButtonClassName} />\n      <figcaption className=\"cards__name\">\n        <p className=\"cards__name-caption\">{props.card.name}</p>\n        <div className=\"cards__like\">\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName} />\n          <p className=\"cards__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </figcaption>\n    </figure>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__avatar-button\">\n          <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\n        </button>\n        <div className=\"profile__edit-info\">\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button\"></button>\n          </div>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddPlace} type=\"button\" className=\"profile__button\"></button>\n      </section>\n\n      <section className=\"cards\">\n        {props.cards.slice(0).reverse().map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onImageOpen={props.onImagePopup}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete} />\n        ))}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;","import React from 'react';\nimport classnames from 'classnames';\n\nfunction PopupWithImage(props) {\n  const popupOpenedClassName = classnames('popup', { 'popup_opened': props.isOpen });\n  return (\n    <section className={popupOpenedClassName}>\n      <figure className=\"popup__image-container\">\n        <button onClick={props.onClose} className=\"popup__close-button popup__close-button_image_close\" />\n        <img className=\"popup__image\"\n          src={props.card.link}\n          alt={props.card.name} />\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n      </figure>\n    </section>\n  )\n}\n\nexport default PopupWithImage;","import React from 'react';\nimport classnames from 'classnames';\n\nfunction PopupWithForm(props) {\n  const popupOpenedClassName = classnames('popup', { 'popup_opened': props.isOpen });\n  return (\n    <section className={popupOpenedClassName}>\n      <form onSubmit={props.onSubmit}\n        name={props.name} className=\"popup__container\" noValidate>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n        <h2 className=\"popup__header\">{props.title}</h2>\n        {props.children}\n        <button type=\"submit\"\n          className={`popup__save-button ${props.isLoading ? 'popup__save-button_loading popup__save-button_disabled' : ''}`}\n          disabled={props.isLoading ? true : ''}\n        >{props.isLoading ? '. . .' : props.button}</button>\n      </form>\n    </section>\n  )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    if (currentUser !== '') {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm title='Редактировать профиль' name=\"profile_edit\" button='Сохранить'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading} >\n      <input value={name} onChange={handleChangeName} autoComplete=\"off\" id=\"user-name\" type=\"text\" name=\"userName\" className=\"popup__input popup__input_value_name\"\n        minLength=\"2\" maxLength=\"40\" required />\n      <span id=\"user-name-error\" className=\"popup__error popup__error_position_top\"></span>\n      <input value={description} onChange={handleChangeDescription} autoComplete=\"off\" id=\"user-description\" type=\"text\" name=\"userDescription\"\n        className=\"popup__input popup__input_value_description\" minLength=\"2\" maxLength=\"200\" required />\n      <span id=\"user-description-error\" className=\"popup__error popup__error_position_bottom\"></span>\n    </PopupWithForm>\n  )\n}","class Api {\n  constructor({ baseUrl }) {\n    this.url = baseUrl;\n    this.jwt = '';\n  }\n  handleResponse = res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  handleToken() {\n    this.jwt = localStorage.getItem('jwt');\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      }\n    })\n      .then(this.handleResponse)\n      .then(data => data);\n  }\n\n  getInfoUser() {\n    return fetch(`${this.url}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      }\n    })\n      .then(this.handleResponse)\n      .then(data => data);\n  }\n\n  sendInfoUser(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(this.handleResponse);\n  }\n\n  createCard(data) {\n    return fetch(`${this.url}/cards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this.handleResponse);\n  }\n\n  removeCard(data) {\n    return fetch(`${this.url}/cards/${data._id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      }\n    })\n      .then(this.handleResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this.url}/cards/likes/${id}`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      }\n    })\n      .then(this.handleResponse);\n  }\n\n  changeAvatar(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.jwt}`,\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n      .then(this.handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.rodion.students.nomoreparties.xyz',\n});\n\nexport default api;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm title='Обновить аватар' name=\"avatar_edit\" button='Сохранить'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading}>\n      <input ref={avatarRef} autoComplete=\"off\" id=\"avatar-url\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\n        className=\"popup__input popup__input_place_image\" required />\n      <span id=\"avatar-url-error\" className=\"popup__error popup__error_position_bottom\"></span>\n    </PopupWithForm>\n  )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link\n    })\n  }\n\n  return (\n    <PopupWithForm title='Новое место' name=\"card_add\" button='Создать'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading}>\n      <input value={name} onChange={handleChangeName} autoComplete=\"off\" id=\"card-name\" type=\"text\" name=\"name\" placeholder=\"Название\"\n        className=\"popup__input popup__input_place_name\" minLength=\"1\" maxLength=\"30\" required />\n      <span id=\"card-name-error\" className=\"popup__error popup__error_position_top\"></span>\n      <input value={link} onChange={handleChangeLink} autoComplete=\"off\" id=\"card-url\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\n        className=\"popup__input popup__input_place_image\" required />\n      <span id=\"card-url-error\" className=\"popup__error popup__error_position_bottom\"></span>\n    </PopupWithForm>\n  )\n}","import React from 'react';\nimport headerLogo from '../images/logo.svg'\n\nfunction Header(props) {\n\n  return (\n    <header className=\"header\">\n      <img src={headerLogo} alt=\"Лого Место\" className=\"header__logo\" />\n      <p className=\"header__email\">{props.loggedIn ? props.userData.email : undefined}</p>\n      <a onClick={props.loggedIn ? props.signOut : undefined} type=\"button\" className={`header__link ${props.loggedIn && 'header__link_logged_in'}`} href={props.link}>{props.name}</a>\n    </header>\n  )\n}\n\nexport default Header","export const BASE_URL = 'https://api.rodion.students.nomoreparties.xyz';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ password, email })\n  })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data) {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      } else {\n        return;\n      }\n    })\n    .catch(err => console.log(err))\n};","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport classnames from 'classnames';\nimport * as auth from '../utils/auth';\n\nfunction Register(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [emailLength, setEmailLength] = React.useState(false);\n  const [passLength, setPassLength] = React.useState(false);\n\n  const history = useHistory();\n  const registerButtonClassName = classnames('form__button', { 'form__button_disabled': (!passLength || !emailLength) });\n  const disabledButton = classnames({ disabled: (!passLength || !emailLength) });\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n    if (e.target.value.length > 3) {\n      setEmailLength(true)\n    } else {\n      setEmailLength(false);\n    };\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n    if (e.target.value.length >= 8) {\n      setPassLength(true)\n    } else {\n      setPassLength(false);\n    };\n  }\n\n  function resetForm() {\n    setEmail('');\n    setPassword('');\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    auth.register(email, password)\n      .then((res) => {\n        if (res.data) {\n          resetForm();\n          props.onRegister();\n          props.isOpen();\n          history.push('/sign-in');\n        }\n        else {\n          props.handleMessage(res.error || res.message);\n          props.onUnregister();\n          props.isOpen();\n        }\n      })\n  }\n  return (\n    <div>\n      <Header name={'Войти'} link={\"/sign-in\"} />\n      <main className=\"main\">\n        <section className=\"form\">\n          <form className=\"form__container\" onSubmit={handleSubmit}>\n            <h1 className=\"form__header\">Регистрация</h1>\n            <input className=\"form__input form__input-email\" type=\"email\" name=\"email\" onChange={handleChangeEmail} autoComplete=\"off\" placeholder=\"Email\" required></input>\n            <input className=\"form__input form__input-password\" type=\"password\" name=\"password\" onChange={handleChangePassword} autoComplete=\"off\" placeholder=\"Пароль\" required></input>\n            <button type=\"submit\" className={registerButtonClassName} disabled={disabledButton}>Зарегистрироваться</button>\n            <p className=\"form__text\">Уже зарегистрированы? <a className=\"form__link\" href=\"/sign-in\">Войти</a></p>\n          </form>\n        </section>\n      </main>\n    </div>\n  )\n}\n\nexport default Register;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as auth from '../utils/auth.js';\nimport classnames from 'classnames';\nimport Header from './Header';\n\nfunction Login(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [emailLength, setEmailLength] = React.useState(false);\n  const [passLength, setPassLength] = React.useState(false);\n  const history = useHistory();\n  const loginButtonClassName = classnames('form__button', { 'form__button_disabled': (!passLength || !emailLength) });\n  const disabledButton = classnames({ disabled: (!passLength || !emailLength) });\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n    if (e.target.value.length > 3) {\n      setEmailLength(true)\n    } else {\n      setEmailLength(false);\n    };\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n    if (e.target.value.length >= 8) {\n      setPassLength(true)\n    } else {\n      setPassLength(false);\n    };\n  }\n\n  function resetForm() {\n    setEmail('');\n    setPassword('');\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    auth.authorize(email, password)\n      .then((res) => {\n        resetForm();\n        if (res.token) {\n          props.onLogin();\n          props.isOpen();\n          history.push('/');\n        }\n        else {\n          props.handleMessage(res.error || res.message);\n          props.notLogin();\n          props.isOpen();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <div>\n      <Header name={'Регистрация'} link={\"/sign-up\"} />\n      <main className=\"main\">\n        <section className=\"form\">\n          <form className=\"form__container\" onSubmit={handleSubmit}>\n            <h1 className=\"form__header\">Вход</h1>\n            <input className=\"form__input form__input-email\" type=\"email\" name=\"email\" onChange={handleChangeEmail} autoComplete=\"off\" placeholder=\"Email\"></input>\n            <input className=\"form__input form__input-password\" type=\"password\" name=\"password\" onChange={handleChangePassword} autoComplete=\"off\" placeholder=\"Пароль\"></input>\n            <button type=\"submit\" className={loginButtonClassName} disabled={disabledButton}>Войти</button>\n            <p className=\"form__text\">Ещё не зарегистрированы? <a className=\"form__link\" href=\"/sign-up\">Регистрация</a></p>\n          </form>\n        </section>\n      </main>\n    </div>\n  )\n}\n\nexport default Login;","import React from 'react';\nimport loginImage from '../images/Union.png';\nimport declineImage from '../images/Union_decline.png';\nimport classnames from 'classnames';\n\n\nfunction InfoTooltip(props) {\n  const popupOpenedClassName = classnames('popup', { 'popup_opened': props.isOpen });\n  return (\n    <section className={popupOpenedClassName}>\n      <figure className=\"popup__container\">\n        <button onClick={props.onClose} type=\"button\" className=\"popup__close-button\" />\n        <img className=\"popup__image popup_image_position\"\n          src={props.onRegister ? loginImage : declineImage}\n          alt={props.onRegister ? 'Correct' : 'Incorrect'} />\n        <figcaption className=\"popup__image-caption\">\n          {props.onRegister ? 'Вы успешно зарегистрировались!' : props.message}\n        </figcaption>\n      </figure>\n    </section>\n  )\n}\n\nexport default InfoTooltip;","import React from 'react';\r\nimport loginImage from '../images/Union.png';\r\nimport declineImage from '../images/Union_decline.png';\r\nimport classnames from 'classnames';\r\n\r\n\r\nfunction LoginPopup(props) {\r\n    const popupOpenedClassName = classnames('popup', { 'popup_opened': props.isOpen });\r\n    return (\r\n        <section className={popupOpenedClassName}>\r\n            <figure className=\"popup__container\">\r\n                <button onClick={props.onClose} type=\"button\" className=\"popup__close-button\" />\r\n                <img className=\"popup__image popup_image_position\"\r\n                    src={props.onLogin ? loginImage : declineImage}\r\n                    alt={props.onLogin ? 'Correct' : 'Incorrect'} />\r\n                <figcaption className=\"popup__image-caption\">\r\n                    {props.onLogin ? 'Вы успешно вошли!' : props.message}\r\n                </figcaption>\r\n            </figure>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default LoginPopup;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\nimport Header from \"./Header\"\nimport Footer from './Footer'\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      <Header loggedIn={props.loggedIn} userData={props.userData} signOut={props.signOut} name={'Выйти'} />\n      {\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n      <Footer />\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Main from './Main';\nimport PopupWithImage from './PopupWithImage';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport LoginPopup from './LoginPopup';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n  const [isLoginTooltipPopupOpen, setIsLoginTooltipPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [registered, setRegistered] = React.useState(false);\n  const [message, setMessage] = React.useState();\n  const history = useHistory();\n\n  // React.useEffect(() => {\n  //   console.log('hi');\n  //   Promise.all([api.getInitialCards(), api.getInfoUser()])\n  //     .then((result) => {\n  //       setCards(result[0]);\n  //       setCurrentUser(result[1].data);\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleMessage(message) {\n    setMessage(message);\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card)\n      .then(() => {\n        const arrWithoutCard = cards.filter((i) => i !== card);\n        setCards(arrWithoutCard);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleImagePopupclick() {\n    setIsImagePopupOpen(!isImagePopupOpen);\n  }\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n  }\n\n  function handleRegisterPopup() {\n    setIsInfoTooltipPopupOpen(!isInfoTooltipPopupOpen);\n  }\n\n  function handleLoginPopup() {\n    setIsLoginTooltipPopupOpen(!isLoginTooltipPopupOpen);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n    setIsLoginTooltipPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    function handleESCclose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', handleESCclose);\n    return () => {\n      document.removeEventListener('keydown', handleESCclose);\n    }\n  }, [])\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api.sendInfoUser(user)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    api.changeAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api.createCard(card)\n      .then((newCard) => {\n        setCards([...cards, newCard])\n      })\n      .then(() => {\n        closeAllPopups();\n        setIsLoading(false)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function onRegister() {\n    setRegistered(true);\n  }\n\n  function onUnregister() {\n    setRegistered(false);\n  }\n\n  function onLogin() {\n    setLoggedIn(true);\n  }\n\n  function notLogin() {\n    setLoggedIn(false)\n  }\n\n  React.useEffect(() => {\n    const tokenCheck = () => {\n      api.handleToken();\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        api.getInfoUser()\n          .then((res) => {\n            if (res.data) {\n              setLoggedIn(true);\n              setCurrentUser(res.data);\n              history.push('/');\n              api.getInitialCards()\n                .then((result) => {\n                  setCards(result);\n                })\n                .catch((err) => {\n                  console.log(err);\n                });\n            }\n          })\n      } else {\n        localStorage.removeItem('jwt');\n      }\n    };\n\n\n    tokenCheck();\n  }, [loggedIn, history]);\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Switch>\n\n            <ProtectedRoute exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onCardClick={handleCardClick}\n              onImagePopup={handleImagePopupclick}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              signOut={signOut}\n              userData={currentUser} />\n\n            <Route path=\"/sign-up\">\n              <Register handleMessage={handleMessage} onRegister={onRegister} onUnregister={onUnregister} isOpen={handleRegisterPopup} onClose={closeAllPopups} />\n            </Route>\n\n            <Route path=\"/sign-in\">\n              <Login handleMessage={handleMessage} isOpen={handleLoginPopup} onLogin={onLogin} notLogin={notLogin} onClose={closeAllPopups} />\n            </Route>\n\n            <Route path=\"/\">\n              {loggedIn ? <Redirect to={\"/\"} /> : <Redirect to={\"/sign-in\"} />}\n            </Route>\n\n\n\n          </Switch>\n        </div>\n\n        <EditProfilePopup isLoading={isLoading} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n        <AddPlacePopup isLoading={isLoading} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <PopupWithImage\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups} />\n\n        <EditAvatarPopup isLoading={isLoading} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <InfoTooltip onRegister={registered} isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} message={message} />\n        <LoginPopup onLogin={loggedIn} isOpen={isLoginTooltipPopupOpen} onClose={closeAllPopups} message={message} />\n\n      </div >\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n      <App />\n    </BrowserRouter >\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}