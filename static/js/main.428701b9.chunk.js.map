{"version":3,"sources":["images/logo.svg","images/Union.png","images/Union_decline.png","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Header.js","utils/auth.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/Footer.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","onClick","onImageOpen","onCardClick","src","link","alt","name","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","key","onImagePopup","PopupWithImage","isOpen","onClose","PopupWithForm","onSubmit","noValidate","title","children","isLoading","disabled","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","autoComplete","id","minLength","maxLength","required","api","baseUrl","headers","this","url","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","authorization","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","setLink","Header","headerLogo","loggedIn","userData","email","undefined","signOut","href","BASE_URL","Register","setEmail","password","setPassword","message","setMessage","history","useHistory","evt","response","catch","err","console","log","auth","onRegister","push","error","onUnregister","Login","localStorage","setItem","token","onLogin","InfoTooltip","loginImage","declineImage","Footer","ProtectedRoute","Component","component","to","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","setLoggedIn","setUserData","registered","setRegistered","closeAllPopups","getInitialCards","result","getInfoUser","handleESCclose","document","addEventListener","removeEventListener","jwt","getItem","tokenCheck","Provider","exact","path","changeLikeCardStatus","newCard","newCards","c","removeCard","arrWithoutCard","filter","removeItem","user","sendInfoUser","createCard","changeAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.428701b9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `cards__delete-button ${isOwn ? 'cards__delete-button_active' : ''}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = (\r\n        `cards__like-button ${isLiked ? 'cards__like-button_active' : ''}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onImageOpen();\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <figure className=\"cards__item\">\r\n            <img\r\n                onClick={handleClick}\r\n                src={props.card.link}\r\n                alt={`${props.card.name}`}\r\n                className=\"cards__image\" />\r\n            <button type='button' onClick={handleDeleteClick} className={cardDeleteButtonClassName} />\r\n            <figcaption className=\"cards__name\">\r\n                <p className=\"cards__name-caption\">{props.card.name}</p>\r\n                <div className=\"cards__like\">\r\n                    <button type=\"button\" onClick={handleLikeClick} className={` ${cardLikeButtonClassName}`} />\r\n                    <p className=\"cards__like-counter\">{props.card.likes.length}</p>\r\n                </div>\r\n            </figcaption>\r\n        </figure>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__avatar-button\">\r\n                    <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n                </button>\r\n                <div className=\"profile__edit-info\">\r\n                    <div className=\"profile__info\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button\"></button>\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>\r\n                <button onClick={props.onAddPlace} type=\"button\" className=\"profile__button\"></button>\r\n            </section>\r\n\r\n            <section className=\"cards\">\r\n                {props.cards.map((card) => (\r\n                    <Card\r\n                        key={card._id}\r\n                        card={card}\r\n                        onImageOpen={props.onImagePopup}\r\n                        onCardClick={props.onCardClick}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete} />\r\n                ))}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithImage(props) {\r\n    return (\r\n        <section className={`popup popup_image_open ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <figure className=\"popup__image-container\">\r\n                <button onClick={props.onClose} className=\"popup__close-button popup__close-button_image_close\" />\r\n                <img className=\"popup__image\"\r\n                    src={props.card.link}\r\n                    alt={props.card.name} />\r\n                <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n            </figure>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithImage;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <form onSubmit={props.onSubmit}\r\n                name={props.name} className=\"popup__container\" noValidate>\r\n                <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\r\n                <h2 className=\"popup__header\">{props.title}</h2>\r\n                {props.children}\r\n                <button type=\"submit\"\r\n                    className={`popup__save-button ${props.isLoading ? 'popup__save-button_loading popup__save-button_disabled' : ''}`}\r\n                    disabled={props.isLoading ? true : ''}\r\n                >{props.isLoading ? '. . .' : props.button}</button>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (currentUser !== '') {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm title='Редактировать профиль' name=\"profile_edit\" button='Сохранить'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={props.isLoading} >\r\n            <input value={name} onChange={handleChangeName} autoComplete=\"off\" id=\"user-name\" type=\"text\" name=\"userName\" className=\"popup__input popup__input_value_name\"\r\n                minLength=\"2\" maxLength=\"40\" required />\r\n            <span id=\"user-name-error\" className=\"popup__error popup__error_position_top\"></span>\r\n            <input value={description} onChange={handleChangeDescription} autoComplete=\"off\" id=\"user-description\" type=\"text\" name=\"userDescription\"\r\n                className=\"popup__input popup__input_value_description\" minLength=\"2\" maxLength=\"200\" required />\r\n            <span id=\"user-description-error\" className=\"popup__error popup__error_position_bottom\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}","class Api {\r\n    constructor({ baseUrl, headers = {} }) {\r\n        this.url = baseUrl;\r\n        this.headers = headers;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this.url}/cards`, {\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n\r\n    getInfoUser() {\r\n        return fetch(`${this.url}/users/me`, {\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n\r\n    sendInfoUser(data) {\r\n        return fetch(`${this.url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n\r\n    createCard(data) {\r\n        return fetch(`${this.url}/cards`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n\r\n    removeCard(data) {\r\n        return fetch(`${this.url}/cards/${data._id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this.url}/cards/likes/${id}`, {\r\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n            headers: this.headers\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this.url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(`Ошибка: ${res.status}`);\r\n            });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\r\n    headers: {\r\n        authorization: 'dc1735db-20ec-4583-a516-d92fba380f3a',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title='Обновить аватар' name=\"avatar_edit\" button='Сохранить'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={props.isLoading}>\r\n            <input ref={avatarRef} autoComplete=\"off\" id=\"avatar-url\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_place_image\" required />\r\n            <span id=\"avatar-url-error\" className=\"popup__error popup__error_position_bottom\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name,\r\n            link\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title='Новое место' name=\"card_add\" button='Создать'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={props.isLoading}>\r\n            <input value={name} onChange={handleChangeName} autoComplete=\"off\" id=\"card-name\" type=\"text\" name=\"name\" placeholder=\"Название\"\r\n                className=\"popup__input popup__input_place_name\" minLength=\"1\" maxLength=\"30\" required />\r\n            <span id=\"card-name-error\" className=\"popup__error popup__error_position_top\"></span>\r\n            <input value={link} onChange={handleChangeLink} autoComplete=\"off\" id=\"card-url\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_place_image\" required />\r\n            <span id=\"card-url-error\" className=\"popup__error popup__error_position_bottom\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}","import React from 'react';\r\nimport headerLogo from '../images/logo.svg'\r\n\r\nfunction Header(props) {\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={headerLogo} alt=\"Лого Место\" className=\"header__logo\" />\r\n            <p className=\"header__email\">{props.loggedIn ? props.userData.email : undefined}</p>\r\n            <a onClick={props.loggedIn ? props.signOut : undefined} type=\"button\" className={`header__link ${props.loggedIn && 'header__link_logged_in'}`} href={props.link}>{props.name}</a>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((res) => {\r\n            return res;\r\n        })\r\n        .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then((response => response.json()))\r\n        .then((data) => {\r\n            if (data) {\r\n                localStorage.setItem('jwt', data.token);\r\n                return data;\r\n            } else {\r\n                return;\r\n            }\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(res => res.json())\r\n        .then(data => data)\r\n}","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction Register(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n    const [message, setMessage] = React.useState('');\r\n\r\n    const history = useHistory();\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    function resetForm() {\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        auth.register(email, password)\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    resetForm();\r\n                    props.onRegister();\r\n                    props.isOpen();\r\n                    history.push('/sign-in');\r\n                }\r\n                else {\r\n                    setMessage(res.error || res.message)\r\n                    props.onUnregister();\r\n                    props.isOpen();\r\n                }\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <Header name={'Войти'} link={\"/sign-in\"} />\r\n            <main className=\"main\">\r\n                <section className=\"form\">\r\n                    <form className=\"form__container\" onSubmit={handleSubmit}>\r\n                        <h1 className=\"form__header\">Регистрация</h1>\r\n                        <input className=\"form__input form__input-email\" type=\"email\" name=\"email\" onChange={handleChangeEmail} autoComplete=\"off\" placeholder=\"Email\" required></input>\r\n                        <input className=\"form__input form__input-password\" type=\"password\" name=\"password\" onChange={handleChangePassword} autoComplete=\"off\" placeholder=\"Пароль\" required></input>\r\n                        <p className=\"form__text\">{message}</p>\r\n                        <button type=\"submit\" className=\"form__button\">Зарегистрироваться</button>\r\n                        <p className=\"form__text\">Уже зарегистрированы? <a className=\"form__link\" href=\"/sign-in\">Войти</a></p>\r\n                    </form>\r\n                </section>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as auth from '../utils/auth.js';\r\nimport Header from './Header';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n    // const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(true);\r\n    const history = useHistory();\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    function resetForm() {\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        // props.isOpen(true);\r\n        auth.authorize(email, password)\r\n            .then((res) => {\r\n                resetForm();\r\n                if (!res.token) {\r\n                    return;\r\n                }\r\n                props.onLogin();\r\n                history.push('/');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Header name={'Регистрация'} link={\"/sign-up\"}/>\r\n            <main className=\"main\">\r\n                <section className=\"form\">\r\n                    <form className=\"form__container\" onSubmit={handleSubmit}>\r\n                        <h1 className=\"form__header\">Вход</h1>\r\n                        <input className=\"form__input form__input-email\" type=\"email\" name=\"email\" onChange={handleChangeEmail} autoComplete=\"off\" placeholder=\"Email\"></input>\r\n                        <input className=\"form__input form__input-password\" type=\"password\" name=\"password\" onChange={handleChangePassword} autoComplete=\"off\" placeholder=\"Пароль\"></input>\r\n                        <button type=\"submit\" className=\"form__button\">Войти</button>\r\n                        <p className=\"form__text\">Ещё не зарегистрированы? <a className=\"form__link\" href=\"/sign-up\">Регистрация</a></p>\r\n                    </form>\r\n                </section>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport loginImage from '../images/Union.png';\r\nimport declineImage from '../images/Union_decline.png';\r\n\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <figure className=\"popup__container\">\r\n                <button onClick={props.onClose} type=\"button\" className=\"popup__close-button\" />\r\n                <img className=\"popup__image popup_image_position\"\r\n                    src={props.onRegister ? loginImage : declineImage}\r\n                    alt={props.onRegister ? 'Correct' : 'Incorrect'} />\r\n                <figcaption className=\"popup__image-caption\">\r\n                    {props.onRegister ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                </figcaption>\r\n            </figure>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport Header from \"./Header\"\r\nimport Footer from './Footer'\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            <Header loggedIn={props.loggedIn} userData={props.userData} signOut={props.signOut} name={'Выйти'} />\r\n            {\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n            <Footer />\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Main from './Main';\nimport PopupWithImage from './PopupWithImage';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({});\n  const [registered, setRegistered] = React.useState(false);\n  const history = useHistory();\n\n\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((result) => {\n        setCards(result)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card)\n      .then(() => {\n        const arrWithoutCard = cards.filter((i) => i !== card);\n        setCards(arrWithoutCard);\n      })\n\n  }\n\n  React.useEffect(() => {\n    api.getInfoUser()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleImagePopupclick() {\n    setIsImagePopupOpen(!isImagePopupOpen);\n  }\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n  }\n\n  function handleRegisterPopup() {\n    setIsInfoTooltipPopupOpen(!isInfoTooltipPopupOpen);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    function handleESCclose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', handleESCclose);\n    return () => {\n      document.removeEventListener('keydown', handleESCclose);\n    }\n  }, [])\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api.sendInfoUser(user)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    api.changeAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api.createCard(card)\n      .then((newCard) => {\n        setCards([...cards, newCard])\n      })\n      .then(() => {\n        closeAllPopups();\n        setIsLoading(false)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function onRegister() {\n    setRegistered(true);\n  }\n\n  function onUnregister() {\n    setRegistered(false);\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n  React.useEffect(() => {\n    const tokenCheck = () => {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        auth.getContent(jwt)\n          .then((res) => {\n            if (res.data) {\n              setLoggedIn(true);\n              setUserData({\n                id: res.data._id,\n                email: res.data.email,\n              });\n              history.push('/');\n            }\n          })\n      }\n    };\n\n\n    tokenCheck();\n  }, [loggedIn, history]);\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Switch>\n\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\n              onCardClick={handleCardClick}\n              onImagePopup={handleImagePopupclick}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              signOut={signOut}\n              userData={userData} />\n\n            <Route path=\"/sign-up\">\n              <Register onRegister={onRegister} onUnregister={onUnregister} isOpen={handleRegisterPopup} onClose={closeAllPopups} />\n            </Route>\n\n            <Route path=\"/sign-in\">\n              <Login onLogin={handleLogin} onClose={closeAllPopups} />\n            </Route>\n\n            <Route path=\"/\">\n              {loggedIn ? <Redirect to={\"/\"} /> : <Redirect to={\"/sign-in\"} />}\n            </Route>\n\n\n\n          </Switch>\n        </div>\n\n        <EditProfilePopup isLoading={isLoading} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n        <AddPlacePopup isLoading={isLoading} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <PopupWithImage\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups} />\n\n        <EditAvatarPopup isLoading={isLoading} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <InfoTooltip onRegister={registered} isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} />\n\n      </div >\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n      <App />\n    </BrowserRouter >\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}